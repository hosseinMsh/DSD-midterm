# ฺฏุฒุงุฑุด ุทุฑุงุญ ู ุดุจูโุณุงุฒ ุฌูุนโฺฉููุฏู ฑถ ุจุช Manchester

## ูุดุฎุตุงุช ูพุฑูฺู

* **ุนููุงู**: ุทุฑุงุญ ู ูพุงุฏูโุณุงุฒ ุฌูุนโฺฉููุฏูโ ฑถ ุจุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุฒูุฌุฑูโ Manchester
* **ุงุจุฒุงุฑ ููุฑุฏ ุงุณุชูุงุฏู**:

  * Quartus Prime (ุจุฑุง ุณูุชุฒ ู ุทุฑุงุญ ุณุฎุชโุงูุฒุงุฑ)
  * ModelSim / Simulation Waveform Editor (ุจุฑุง ุดุจูโุณุงุฒ)
* **ุฒุจุงู ุทุฑุงุญ**: Verilog HDL

---

## ููุทู ุทุฑุงุญ (Manchester Carry Chain)

### ุชุนุฑู:

ุฏุฑ ุทุฑุงุญ ุฌูุนโฺฉููุฏูโูุง ุณุฑุนุ ุจุฑุง ฺฉุงูุด ุชุฃุฎุฑ ุงูุชุดุงุฑ ุณฺฏูุงูโูุง ุงุฒ ุฑูุดโูุง ูุซู ุฒูุฌุฑู Manchester ุงุณุชูุงุฏู ูโุดูุฏ. ุฏุฑ ุงู ุฑูุด ุจูโุฌุง ูุญุงุณุจู ูพุงูพ Carryูุง (ูุซู ripple-carry)ุ ุจุง ฺฉูฺฉ ุณฺฏูุงูโูุง ุชููุฏ ู ุงูุชุดุงุฑ (Generate ู Propagate) ุฌูุน ุจูโุตูุฑุช ููุงุฒ ุงูุฌุงู ูโุดูุฏ.

### ูุฑุงุญู ุญู:

1. ุชุนุฑู ุณฺฏูุงูโูุง `P = A ^ B` ู `G = A & B`
2. ููุฏุงุฑุฏู ุงููู ุจู `C[0] = Cin`
3. ุชููุฏ ุฒูุฌุฑู ููู ุงุฒ ุทุฑู ูุฑููู:

   `C[i+1] = G[i] | (P[i] & C[i])`
4. ูุญุงุณุจู `Sum = P ^ C`
5. ุฎุฑูุฌ `Cout = C[15]`

ุงู ุฑูุด ุจุงุนุซ ุงูุฒุงุด ุณุฑุนุช ูุญุงุณุจู ุฌูุน ุฏุฑ ููุงุณู ุจุง ุฌูุนโฺฉููุฏูโูุง ุณูุช ูโุดูุฏ.

---

## ุณุงุฎุชุงุฑ ูุงฺููโูุง

### 1. XOR Gate (ุจุง ุงุณุชูุงุฏู ุงุฒ primitiveูุง ูพุงู)

```verilog
module xor_gate (output Y, input A, B);
  wire nA, nB, AandnB, nAandB;
  not (nA, A);
  not (nB, B);
  and (AandnB, A, nB);
  and (nAandB, nA, B);
  or (Y, AandnB, nAandB);
endmodule
```

### 2. NOT Gate ุจุง PMOS/NMOS

```verilog
module not_gate(output Y, input A);
  supply1 Vdd;
  supply0 Gnd;
  pmos (Y, Vdd, A);
  nmos (Y, Gnd, A);
endmodule
```

### 3. Manchester Carry Chain Adder 16-bit

```verilog
module manchester_adder (
    input  [15:0] A, B,
    input        Cin,
    output [15:0] Sum,
    output       Cout
);
  wire [15:0] P, G, C;
  assign P = A ^ B;
  assign G = A & B;
  assign C[0] = Cin;

  genvar i;
  generate
    for (i = 0; i < 15; i = i + 1) begin : gen_carry
      assign C[i+1] = G[i] | (P[i] & C[i]);
    end
  endgenerate

  assign Sum = P ^ C;
  assign Cout = C[15];
endmodule
```

### 4. ุชุงูพโููู ุจุฑุง ุงุชุตุงู ุจู FPGA

```verilog
module top (
    input  [15:0] A,
    input  [15:0] B,
    input        Cin,
    output [15:0] Sum,
    output        Cout
);
  manchester_adder u_adder (
    .A(A), .B(B), .Cin(Cin), .Sum(Sum), .Cout(Cout)
  );
endmodule
```

### 5. Testbench ุจุฑุง ุดุจูโุณุงุฒ

```verilog
module tb;
  reg [15:0] A, B;
  reg Cin;
  wire [15:0] Sum;
  wire Cout;

  manchester_adder uut (
    .A(A), .B(B), .Cin(Cin), .Sum(Sum), .Cout(Cout)
  );

  initial begin
    $monitor("A=%h B=%h Cin=%b => Sum=%h Cout=%b", A, B, Cin, Sum, Cout);

    A = 16'hAAAA; B = 16'h5555; Cin = 0; #10;
    A = 16'h1234; B = 16'h4321; Cin = 0; #10;
    A = 16'hFFFF; B = 16'h0001; Cin = 0; #10;
    A = 16'h0000; B = 16'h0000; Cin = 1; #10;
    $finish;
  end
endmodule
```

---

## ูุชุฌู ุดุจูโุณุงุฒ

ุดฺฉู ููุฌ ุฎุฑูุฌ ุดุจูโุณุงุฒ ุจู ุฏุฑุณุช ุญุงุตู ุฌูุน ู ุจุช ููู ุฑุง ููุงุด ูโุฏูุฏ.
ุฏุฑ ุชูุงู ุชุณุชโูุงุ ุฎุฑูุฌ `Sum` ู `Cout` ุจุง ุงูุชุธุงุฑ ููุทู ุฌูุน A ู B ู Cin ูุทุงุจูุช ุฏุงุฑูุฏ.

### ๐ท ุชุตูุฑ ุฎุฑูุฌ:

![Simulation Result](image.png)

### ุชุญูู ูููููโูุง ุงุฒ ุชุตูุฑ ุดุจูโุณุงุฒ:

| ุฒูุงู (ns) | A      | B      | Cin | Sum    | Cout | ุชูุถุญ                      |
| --------- | ------ | ------ | --- | ------ | ---- | -------------------------- |
| 0         | -13955 | -17378 | 1   | -31332 | 1    | ุฌูุน ููู ุจุง carry-in = 1   |
| 240       | 27191  | 16460  | 0   | 23949  | 1    | overflow โ Cout = 1        |
| 640       | -24198 | 26626  | 0   | 2428   | 0    | ุฌูุน ูุซุจุช ุฏุฑ ูุญุฏูุฏู ุตุญุญ    |
| 800       | 4243   | 20268  | 1   | 24512  | 1    | ุฌูุน ุจุง carry-in โ Cout = 1 |

---

## ูุชุฌูโฺฏุฑ

ุงู ูพุฑูฺู ูุดุงู ูโุฏูุฏ ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ููุทู ุณุงุฏูโ ุชุฑฺฉุจ ู ุฒูุฌุฑูโ Manchesterุ ูโุชูุงู ฺฉ ุฌูุนโฺฉููุฏูโ ฑถ ุจุช ุณุฑุน ู ุฏูู ุทุฑุงุญ ฺฉุฑุฏ. ุงู ูุฏุงุฑ ุจุฑุง ูพุงุฏูโุณุงุฒโูุง ูุงูุน ุฏุฑ FPGA ูุงุจู ุงุณุชูุงุฏู ุจูุฏู ู ุนููฺฉุฑุฏ ุขู ุฏุฑ ุดุจูโุณุงุฒ ูุฒ ุจู ุฎูุจ ุชุงุฏ ุดุฏ.
